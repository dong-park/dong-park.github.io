import{g as $,M as V}from"../chunks/33.799e13e1.js";import{S as U,i as q,s as v,e as m,c as p,b as d,f as g,o as b,h as u,n as k,B as A,p as F,q as y,t as w,a as z,d as P,g as C,I as f,j as _,r as L,k as R,u as T,v as S,w as E,x as I,y as M,z as j}from"../chunks/index.1b37d555.js";import{P as G}from"../chunks/Posts.00a12c89.js";function B(n,e,a){const s=n.slice();return s[4]=e[a],s}function D(n){let e,a=n[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=O(B(n,a,t));return{c(){e=m("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=p(t,"DIV",{class:!0});var o=d(e);for(let l=0;l<s.length;l+=1)s[l].l(o);o.forEach(g),this.h()},h(){b(e,"class","flex gap-1")},m(t,o){u(t,e,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null)},p(t,o){if(o&7){a=t[0];let l;for(l=0;l<a.length;l+=1){const r=B(t,a,l);s[l]?s[l].p(r,o):(s[l]=O(r),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(t){t&&g(e),F(s,t)}}}function N(n){let e,a,s=n[4]+"",t,o,l,r;function h(){return n[3](n[4])}return{c(){e=m("button"),a=w("#"),t=w(s),o=z(),this.h()},l(c){e=p(c,"BUTTON",{class:!0});var i=d(e);a=P(i,"#"),t=P(i,s),o=C(i),i.forEach(g),this.h()},h(){b(e,"class","text-xs rounded p-1 cursor-pointer"),f(e,"bg-blue-500",n[4]===n[1]),f(e,"text-white",n[4]===n[1]),f(e,"hover:bg-blue-400",n[4]===n[1]),f(e,"bg-gray-200",n[4]!==n[1]),f(e,"text-gray-700",n[4]!==n[1]),f(e,"hover:bg-gray-300",n[4]!==n[1])},m(c,i){u(c,e,i),_(e,a),_(e,t),_(e,o),l||(r=L(e,"click",h),l=!0)},p(c,i){n=c,i&1&&s!==(s=n[4]+"")&&R(t,s),i&3&&f(e,"bg-blue-500",n[4]===n[1]),i&3&&f(e,"text-white",n[4]===n[1]),i&3&&f(e,"hover:bg-blue-400",n[4]===n[1]),i&3&&f(e,"bg-gray-200",n[4]!==n[1]),i&3&&f(e,"text-gray-700",n[4]!==n[1]),i&3&&f(e,"hover:bg-gray-300",n[4]!==n[1])},d(c){c&&g(e),l=!1,r()}}}function O(n){let e=n[4],a,s=N(n);return{c(){s.c(),a=y()},l(t){s.l(t),a=y()},m(t,o){s.m(t,o),u(t,a,o)},p(t,o){o&1&&v(e,e=t[4])?(s.d(1),s=N(t),s.c(),s.m(a.parentNode,a)):s.p(t,o)},d(t){t&&g(a),s.d(t)}}}function H(n){let e,a=n[0]&&D(n);return{c(){e=m("div"),a&&a.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var t=d(e);a&&a.l(t),t.forEach(g),this.h()},h(){b(e,"class","")},m(s,t){u(s,e,t),a&&a.m(e,null)},p(s,[t]){s[0]?a?a.p(s,t):(a=D(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:k,o:k,d(s){s&&g(e),a&&a.d()}}}function J(n,e,a){let{tags:s}=e,t;function o(r){if(r===t){$("?tag=");return}else $(`?tag=${r}`)}A(()=>{const r=new URLSearchParams(window.location.search);a(1,t=r.get("tag"))});const l=r=>o(r);return n.$$set=r=>{"tags"in r&&a(0,s=r.tags)},[s,t,o,l]}class K extends U{constructor(e){super(),q(this,e,J,H,v,{tags:0})}}const Q=async({url:n})=>{const e=new V,a=n.searchParams,s=a?a.get("tag"):"",t=s?e.loadPostsByTag(s):e.loadPosts("wikis");return{postCount:t.length,posts:t,tags:e.loadTags()}},ee=Object.freeze(Object.defineProperty({__proto__:null,load:Q},Symbol.toStringTag,{value:"Module"}));function W(n){let e,a,s,t,o;return a=new K({props:{tags:n[0].tags}}),t=new G({props:{posts:n[0].posts,origin:"wikis"}}),{c(){e=m("main"),T(a.$$.fragment),s=z(),T(t.$$.fragment),this.h()},l(l){e=p(l,"MAIN",{class:!0});var r=d(e);S(a.$$.fragment,r),s=C(r),S(t.$$.fragment,r),r.forEach(g),this.h()},h(){b(e,"class","p-4 h-full overflow-scroll svelte-1tp7ilo")},m(l,r){u(l,e,r),E(a,e,null),_(e,s),E(t,e,null),o=!0},p(l,[r]){const h={};r&1&&(h.tags=l[0].tags),a.$set(h);const c={};r&1&&(c.posts=l[0].posts),t.$set(c)},i(l){o||(I(a.$$.fragment,l),I(t.$$.fragment,l),o=!0)},o(l){M(a.$$.fragment,l),M(t.$$.fragment,l),o=!1},d(l){l&&g(e),j(a),j(t)}}}function X(n,e,a){let{data:s}=e;return n.$$set=t=>{"data"in t&&a(0,s=t.data)},[s]}class te extends U{constructor(e){super(),q(this,e,X,W,v,{data:0})}}export{te as component,ee as universal};
